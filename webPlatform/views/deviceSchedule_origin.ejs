<html>

<head>
    <link rel="shortcut icon " type="images/x-icon" href="/images/heatzyIcon.png">
    <meta name=”viewport” content=”width=device-width, initial-scale=1″ />
    <title>
        Set your schedule
    </title>
    <meta charset="uf-8">

    <style type="text/css">
        .total {
            width: 1001px;
        }

        .left {
            float: left;
            margin-top: 0px;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 1.85vw;
            margin-left: 5.26%;
            clear: left;
        }

        .left2 {
            float: left;
            margin-top: 0px;
            font-size: 1.85vw;
            margin-left: 0;
            margin-left: 5.26%;
            clear: left;

            font-family: Arial, Helvetica, sans-serif;
        }

        .left3 {
            float: left;
            margin-top: 0px;
            font-size: 1.85vw;

            font-family: Arial, Helvetica, sans-serif;
            margin-left: 5.26%;
            clear: left;
        }


        .clock-blank {
            float: left;
            margin-top: 0px;
            width: 100px;
            height: 20px;
            background-color: yellow;
        }

        .clock-green-start1 {
            float: left;
            margin-left: 2.84%;
            margin-top: 2px;
            background-color: #163E34;
            width: 1.75%;
            height: 3%;

        }

        .clock-green-start2 {
            float: left;
            margin-top: 2px;
            width: 1.75%;
            height: 3%;
            background-color: #163E34;
            margin-left: 1.7%;
        }

        .clock-green-start3 {
            float: left;
            margin-top: 2px;
            width: 1.75%;
            height: 3%;
            background-color: #163E34;
            margin-left: 1.7%;
        }

        .clock-green-start4 {
            float: left;
            margin-top: 2px;
            width: 1.75%;
            height: 3%;
            background-color: #163E34;
            margin-left: 2.84%;
        }

        .clock-green-start5 {
            float: left;
            margin-top: 2px;
            width: 1.75%;
            height: 3%;
            background-color: #163E34;
            margin-left: 2.4%;
        }

        .clock-green-start6 {
            float: left;
            margin-top: 2px;
            width: 1.75%;
            height: 3%;
            background-color: #163E34;
            margin-left: 2.4%;
        }

        .clock-green-start7 {
            float: left;
            margin-top: 2px;
            width: 1.75%;
            height: 3%;
            background-color: #163E34;
            margin-left: 2.3%;
        }

        .clock-green-start1:hover {
            background-color: red;
        }

        .clock-green-continue1 {
            float: left;
            margin-left: 0px;
            margin-top: 2px;
            background-color: #163E34;
            width: 1.75%;
            height: 3%;
        }

        .clock-green-continue2 {
            float: left;
            margin-left: 0px;
            margin-top: 2px;
            background-color: #163E34;
            width: 1.75%;
            height: 3%;
        }

        .clock-green-continue3 {
            float: left;
            margin-left: 0px;
            margin-top: 2px;
            background-color: #163E34;
            width: 1.75%;
            height: 3%;
        }

        .clock-green-continue4 {
            float: left;
            margin-left: 0px;
            margin-top: 2px;
            background-color: #163E34;
            width: 1.75%;
            height: 3%;
        }

        .clock-green-continue5 {
            float: left;
            margin-left: 0px;
            margin-top: 2px;
            background-color: #163E34;
            width: 1.75%;
            height: 3%;
        }

        .clock-green-continue6 {
            float: left;
            margin-left: 0px;
            margin-top: 2px;
            background-color: #163E34;
            width: 1.75%;
            height: 3%;
        }

        .clock-green-continue7 {
            float: left;
            margin-left: 0px;
            margin-top: 2px;
            background-color: #163E34;
            width: 1.75%;
            height: 3%;
        }


        .axis1 {
            float: left;
            margin-left: 8.41%;
            margin-right: 3%;
            margin-top: 0.6%;
            font-size: 0.8vw;
        }

        .axis1-continue {
            float: left;
            margin-left: -0.05%;
            margin-top: 0.6%;
            font-size: 0.8vw;
            width: 3.5%;
        }
        .axis1-continue-1 {
            float: left;
            margin-left: 0;
            margin-top: 0.6%;
            font-size: 0.8vw;
            width: 3.5%;
        }
        .axis-continue2 {
            float: left;
            margin-left: -0.05%;
            margin-top: 0.6%;
            font-size: 0.8vw;
            width: 3.5%;
        }
        .axis-continue2-1 {
            float: left;
            margin-left: 0;
            margin-top: 0.6%;
            font-size: 0.8vw;
            width: 3.5%;
        }
        .axis2 {
            float: left;
            margin-left: 8.41%;
            margin-right: 3%;
            margin-top: 0.6%;
            font-size: 0.8vw;
            clear: left;
        }

        .timebar1 {
            /* position: absolute; */
            float: left;
            margin-top: -25px;
            margin-left: 8.4%;
            width: 92.5%;
            height: 5%;
            clear: left;
        }

        .timebar2 {
            /* position: absolute;
                    top: 297px;
                    left: 8.5%;
                    width: 92.5%;
                    height: 20px;
                    */
            float: left;
            margin-top: -25px;
            margin-left: 8.4%;
            width: 92.5%;
            height: 5%;
            clear: left;
        }

        .timebar3 {
            /*position: absolute;
                    top: 375px;
                    left: 8.5%;
        
                    width: 92.5%;
                    height: 20px;*/
            float: left;
            margin-top: -25px;
            margin-left: 8.4%;
            width: 92.5%;
            height: 5%;
            clear: left;
        }

        .timebar4 {
            /* position: absolute;
                    top: 450px;
                    left: 8.5%;
        
                    width: 92.5%;
                    height: 20px;*/
            float: left;
            margin-top: -25px;
            margin-left: 8.4%;
            width: 92.5%;
            height: 5%;
            clear: left;
        }

        .timebar5 {
            /* position: absolute;
                    top: 525px;
                    left: 8.5%;
        
                    width: 92.5%;
                    height: 20px;*/
            float: left;
            margin-top: -25px;
            margin-left: 8.4%;
            width: 92.5%;
            height: 5%;
            clear: left;
        }

        .timebar6 {
            /* position: absolute;
                    top: 602px;
                    left: 8.5%;
        
                    width: 92.5%;
                    height: 20px; */
            float: left;
            margin-top: -25px;
            margin-left: 8.4%;
            width: 92.5%;
            height: 5%;
            clear: left;
        }

        .timebar7 {
            /*position: absolute;
                    top: 678px;
                    left: 8.5%;
        
                    width: 92.5%;
                    height: 20px; */
            float: left;
            margin-top: -25px;
            margin-left: 8.4%;
            width: 92.5%;
            height: 5%;
            clear: left;
        }

        #trackbar1 {
            opacity: 0;
            margin: 0;
        }

        #trackbar2 {
            opacity: 0;
            margin: 0;
        }

        #trackbar3 {
            opacity: 0;
            margin: 0;
        }

        #trackbar4 {
            opacity: 0;
            margin: 0;
        }

        #trackbar5 {
            opacity: 0;
            margin: 0;
        }

        #trackbar6 {
            opacity: 0;
        }

        #trackbar7 {
            opacity: 0;
            margin: 0;
        }

        input[type=range] {
            -webkit-appearance: none;
            /*清除系统默认样式*/
            width: 91%;
            opacity: 0.5;
            background: no-repeat;
            background-size: 0% 100%;
            outline: none;
        }

        input[type=range]::-webkit-slider-runnable-track {
            margin-top: -0.5%;
        }

        input[type=range]::-moz-range-track {
            opacity: 0;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 35px;
            width: 5px;
            transform: translateY(-4px);
            background: none repeat scroll 0 0 white;
            border-radius: 15px;
        }

        input[type=range]::-moz-range-thumb {
            -webkit-appearance: none;
            height: 25px;
            width: 5px;
            transform: translateY(-4px);
            background: none repeat scroll 0 0 white;
            border-radius: 15px;
        }

        .button_confirm {
            position: absolute;
            margin-top: 0.5%;
            left: 42.6%;
            width: 7.1%;
            height: 7.1%;
        }

        .button_return {
            position: absolute;
            margin-top: 0.5%;
            left: 56.8%;
            width: 7.1%;
            height: 7.1%;
            clear: left;
        }

        .methodBar {
            position: absolute;
            top: 140px;
            right: 2.63%;
        }

        li {
            list-style: none;
        }

        #modeSelect1 {
            display: none;
            position: absolute !important;
        }

        #modeSelect2 {
            display: none;
            position: absolute !important;
        }
    </style>
    <script src="javascripts/deviceSchedule_originJS.js" type="text/javascript"></script>
    <script src="javascripts/jquery.js" type="text/javascript"></script>
</head>

<body style="position:relative">

    <script>
        var message = '<%- error%>';
                        if(message!=''){
                            alert(message);
                        }
                        var schedule = '<%- schedule%>';
                        
                    var modeDisplay = JSON.parse('<%-mode %>');
                        function change(){ 
                        var num1=document.getElementById("trackbar1");
                        var location1=document.getElementById("show"); 
                        location1.value=num1.value;
                        var num2=document.getElementById("trackbar2");
                        var location2=document.getElementById("show2"); 
                        location2.value=num2.value;  
                        var num3=document.getElementById("trackbar3");
                        var location3=document.getElementById("show3"); 
                      //console.log(num3.value);
                        location3.value=num3.value; 
                        var num4=document.getElementById("trackbar4");
                        var location4=document.getElementById("show4"); 
                        location4.value=num4.value; 
                        var num5=document.getElementById("trackbar5");
                        var location5=document.getElementById("show5"); 
                        location5.value=num5.value; 
                        var num6=document.getElementById("trackbar6");
                        var location6=document.getElementById("show6"); 
                        location6.value=num6.value; 
                        var num7=document.getElementById("trackbar7");
                        var location7=document.getElementById("show7"); 
                        location7.value=num7.value; 
                }  
                
               /*  window.document.oncontextmenu=function(ev){
                var oEvent=ev||event;
                var oUl2=window.document.getElementById('modeSelect2');
                oUl2.style.display='block';
                oUl2.style.left=oEvent.clientX + 'px';//如果超出可视区就加scroll
                oUl2.style.top=oEvent.clientY + 'px';
                return false;
                }
                document.onclick=function ()
                {
                    var oUl2=window.document.getElementById('modeSelect2');    
                    oUl2.style.display='none';
                }; */
                function changeMode(mode){
                    //alert(mode);
                    modeDisplay = mode;
                //alert(modeDisplay);
                }
               
                function changecolor2(){
                    var mardi = document.getElementById("mardi");
                    var mardi_array = mardi.value.split(",");
                    var num2=document.getElementById("trackbar2");
                    var time_conti2 = document.getElementsByClassName("clock-green-continue2");
                   // time_conti7[location7.value].style.backgroundColor = "#416EAF";
                   if (modeDisplay=="0" ){
                    if(num2.value==0){
                           document.getElementsByClassName("clock-green-start2")[0].style.backgroundColor="#BF3824";
                           mardi_array[0]="00";
                           mardi.value = mardi_array;
                       }
                       else{
                    time_conti2[num2.value-1].style.backgroundColor="#BF3824";
                    mardi_array[num2.value]="00";
                    mardi.value = mardi_array;
                }}
                  else  if (modeDisplay=="1"){
                    if(num2.value==0){
                           document.getElementsByClassName("clock-green-start2")[0].style.backgroundColor="#163E34";
                           mardi_array[0]="10";
                           mardi.value = mardi_array;
                       }
                       else{
                    time_conti2[num2.value-1].style.backgroundColor="#163E34";
                    mardi_array[num2.value]="10";
                    mardi.value = mardi_array;
                }}
                    else if (modeDisplay=="2"){
                        if(num2.value==0){
                           document.getElementsByClassName("clock-green-start2")[0].style.backgroundColor="#416EAF";
                           mardi_array[0]="01";
                           mardi.value = mardi_array;
                       }
                       else{
                    time_conti2[num2.value-1].style.backgroundColor="#416EAF";
                    mardi_array[num2.value]="01";
                    mardi.value = mardi_array;
                }}
                
                }  
                function changecolor3(){
                    var mercredi = document.getElementById("mercredi");
                    var mercedi_array = mercredi.value.split(",");
                    var num3=document.getElementById("trackbar3");
                    var time_conti3 = document.getElementsByClassName("clock-green-continue3");
                   // time_conti7[location7.value].style.backgroundColor = "#416EAF";
                   if (modeDisplay=="0" ){
                    if(num3.value==0){
                           document.getElementsByClassName("clock-green-start3")[0].style.backgroundColor="#BF3824";
                           mercedi_array[0]="00";
                           mercredi.value = mercedi_array;
                       }
                       else{
                    time_conti3[num3.value-1].style.backgroundColor="#BF3824";
                    mercedi_array[num3.value]="00";
                    mercredi.value = mercedi_array;
                }}
                  else  if (modeDisplay=="1"){
                    if(num3.value==0){
                           document.getElementsByClassName("clock-green-start3")[0].style.backgroundColor="#163E34";
                           mercedi_array[0]="10";
                           mercredi.value = mercedi_array;
                       }
                       else{
                    time_conti3[num3.value-1].style.backgroundColor="#163E34";
                    mercedi_array[num3.value]="10";
                    mercredi.value = mercedi_array;
                }}
                    else if (modeDisplay=="2"){
                        if(num3.value==0){
                           document.getElementsByClassName("clock-green-start3")[0].style.backgroundColor="#416EAF";
                           mercedi_array[0]="01";
                           mercredi.value = mercedi_array;
                       }
                       else{
                    time_conti3[num3.value-1].style.backgroundColor="#416EAF";
                    mercedi_array[num3.value]="01";
                    mercredi.value = mercedi_array;
                }}
                    }
                function changecolor4(){
                    var jeudi = document.getElementById("jeudi");
                    var jeudi_array = jeudi.value.split(",");
                    var num4=document.getElementById("trackbar4");
                    var time_conti4 = document.getElementsByClassName("clock-green-continue4");
                   // time_conti7[location7.value].style.backgroundColor = "#416EAF";
                   //var mode = JSON.parse('<%- mode %>');
                   if (modeDisplay=="0" ){
                    if(num4.value==0){
                           document.getElementsByClassName("clock-green-start4")[0].style.backgroundColor="#BF3824";
                           jeudi_array[0]="00";
                           jeudi.value = jeudi_array;
                       }
                       else{
                    time_conti4[num4.value-1].style.backgroundColor="#BF3824";
                    jeudi_array[num4.value]="00";
                    jeudi.value = jeudi_array;
                }}
                  else  if (modeDisplay=="1"){
                    if(num4.value==0){
                           document.getElementsByClassName("clock-green-start4")[0].style.backgroundColor="#163E34";
                           jeudi_array[0]="10";
                           jeudi.value = jeudi_array;
                       }
                       else{
                    time_conti4[num4.value-1].style.backgroundColor="#163E34";
                    jeudi_array[num4.value]="10";
                    jeudi.value = jeudi_array;
                }}
                    else if (modeDisplay=="2"){
                        if(num4.value==0){
                           document.getElementsByClassName("clock-green-start4")[0].style.backgroundColor="#416EAF";
                           jeudi_array[0]="01";
                           jeudi.value = jeudi_array;
                       }
                       else{
                    time_conti4[num4.value-1].style.backgroundColor="#416EAF";
                    jeudi_array[num4.value]="01";
                    jeudi.value = jeudi_array;
                }}
                }   
                function changecolor5(){
                    var vendredi = document.getElementById("vendredi");
                    var vendredi_array = vendredi.value.split(",");
                    var num5=document.getElementById("trackbar5");
                    var time_conti5 = document.getElementsByClassName("clock-green-continue5");
                   // time_conti7[location7.value].style.backgroundColor = "#416EAF";
                   //var mode = JSON.parse('<%- mode %>');
                   if (modeDisplay=="0" ){
                    if(num5.value==0){
                           document.getElementsByClassName("clock-green-start5")[0].style.backgroundColor="#BF3824";
                           vendredi_array[0]="00";
                           vendredi.value = vendredi_array;
                       }
                       else{
                    time_conti5[num5.value-1].style.backgroundColor="#BF3824";
                    vendredi_array[num5.value]="00";
                    vendredi.value = vendredi_array;
                }}
                  else  if (modeDisplay=="1"){
                    if(num5.value==0){
                           document.getElementsByClassName("clock-green-start5")[0].style.backgroundColor="#163E34";
                           vendredi_array[0]="10";
                           vendredi.value = vendredi_array;
                       }
                       else{
                    time_conti5[num5.value-1].style.backgroundColor="#163E34";
                    vendredi_array[num5.value]="10";
                    vendredi.value = vendredi_array;
                }}
                    else if (modeDisplay=="2"){
                        if(num5.value==0){
                           document.getElementsByClassName("clock-green-start5")[0].style.backgroundColor="#416EAF";
                           vendredi_array[0]="01";
                           vendredi.value = vendredi_array;
                       }
                       else{
                    time_conti5[num5.value-1].style.backgroundColor="#416EAF";
                    vendredi_array[num5.value]="01";
                    vendredi.value = vendredi_array;
                }}
                }    
                function changecolor6(){
                    var samedi = document.getElementById("samedi");
                    var samedi_array = samedi.value.split(",");
                    var num6=document.getElementById("trackbar6");
                    var time_conti6 = document.getElementsByClassName("clock-green-continue6");
                   // time_conti7[location7.value].style.backgroundColor = "#416EAF";
                   //var mode = JSON.parse('<%- mode %>');
                   if (modeDisplay=="0" ){
                    if(num6.value==0){
                           document.getElementsByClassName("clock-green-start6")[0].style.backgroundColor="#BF3824";
                           samedi_array[0]="00";
                           samedi.value = samedi_array;
                       }
                       else{
                    time_conti6[num6.value-1].style.backgroundColor="#BF3824";
                    samedi_array[num6.value]="00";
                    samedi.value = samedi_array;
                }}
                  else  if (modeDisplay=="1"){
                    if(num6.value==0){
                           document.getElementsByClassName("clock-green-start6")[0].style.backgroundColor="#163E34";
                           samedi_array[0]="10";
                           samedi.value = samedi_array;
                       }
                       else{
                    time_conti6[num6.value-1].style.backgroundColor="#163E34";
                    samedi_array[num6.value]="10";
                    samedi.value = samedi_array;
                }}
                    else if (modeDisplay=="2"){
                        if(num6.value==0){
                           document.getElementsByClassName("clock-green-start6")[0].style.backgroundColor="#416EAF";
                           samedi_array[0]="01";
                           samedi.value = samedi_array;
                       }
                       else{
                    time_conti6[num6.value-1].style.backgroundColor="#416EAF";
                    samedi_array[num6.value]="01";
                    samedi.value = samedi_array;
                }}
                }  
                function changecolor7(){
                    var dimanche = document.getElementById("dimanche");
                    var dimanche_array = dimanche.value.split(",");
                    var num7=document.getElementById("trackbar7");
                    var time_conti7 = document.getElementsByClassName("clock-green-continue7");
                   // time_conti7[location7.value].style.backgroundColor = "#416EAF";
                   //var mode = JSON.parse('<%- mode %>');
                   if (modeDisplay=="0" ){
                    if(num7.value==0){
                           document.getElementsByClassName("clock-green-start7")[0].style.backgroundColor="#BF3824";
                           dimanche_array[0]="00";
                           dimanche.value = dimanche_array;
                       }
                       else{
                    time_conti7[num7.value-1].style.backgroundColor="#BF3824";
                    dimanche_array[num7.value]="00";
                    dimanche.value = dimanche_array;
                }}
                  else  if (modeDisplay=="1"){
                    if(num7.value==0){
                           document.getElementsByClassName("clock-green-start7")[0].style.backgroundColor="#163E34";
                           dimanche_array[0]="10";
                           dimanche.value = dimanche_array;
                       }
                       else{
                    time_conti7[num7.value-1].style.backgroundColor="#163E34";
                    dimanche_array[num7.value]="10";
                    dimanche.value = dimanche_array;
                }}
                    else if (modeDisplay=="2"){
                        if(num7.value==0){
                           document.getElementsByClassName("clock-green-start7")[0].style.backgroundColor="#416EAF";
                           dimanche_array[0]="01";
                           dimanche.value = dimanche_array;
                       }
                       else{
                    time_conti7[num7.value-1].style.backgroundColor="#416EAF";
                    dimanche_array[num7.value]="01";
                    dimanche.value = dimanche_array;
                }}
                } 
        
                function mouseon(ev){
                    var numD=document.getElementById("trackbar1");
                    console.log(numD.value);
                    var start1 = document.getElementById("start1");
                    setTimeout(() => {
                        start1.value = numD.value; 
                    console.log("start.value"+start1.value);
                    }, 100);
                    numD.style.opacity = 1;
                }
                function mouseon2(){
                    var numD2=document.getElementById("trackbar2");
                    var start2 = document.getElementById("start2");	
                    setTimeout(() => {
                        start2.value = numD2.value; 
                    }, 100);
                    numD2.style.opacity = 1;
                }
                function mouseon3(){
                    var numD3=document.getElementById("trackbar3");
                    var start3 = document.getElementById("start3");	
                    setTimeout(() => {
                        console.log(numD3.value);
                        start3.value = numD3.value; 
                    }, 100);
                    numD3.style.opacity = 1;
                }
                function mouseon4(){
                    var numD4=document.getElementById("trackbar4");
                    var start4 = document.getElementById("start4");	
                    setTimeout(() => {
                        start4.value = numD4.value; 
                    }, 100);
                    numD4.style.opacity = 1;
                }
                function mouseon5(){
                    var numD5=document.getElementById("trackbar5");
                    var start5 = document.getElementById("start5");	
                    setTimeout(() => {
                        start5.value = numD5.value; 
                    }, 100);
                    numD5.style.opacity = 1;
                }
                function mouseon6(){
                    var numD6=document.getElementById("trackbar6");
                    var start6 = document.getElementById("start6");	
                    setTimeout(() => {
                        start6.value = numD6.value; 
                    }, 100);
                    numD6.style.opacity = 1;
                }
                function mouseon7(){
                    var numD7=document.getElementById("trackbar7");
                    var start7 = document.getElementById("start7");	
                    setTimeout(() => {
                        start7.value = numD7.value; 
                    }, 100);
                    numD7.style.opacity = 1;
                }
                function mouseoff(n,j){
                    var num1=document.getElementById("trackbar"+n);
                    var end = document.getElementById("end"+n);	
                    var start = document.getElementById("start"+n);
                    var time_conti1 = document.getElementsByClassName("clock-green-continue"+n);
                    
                    var jour = document.getElementById(j);
                    var jour_array = jour.value.split(",");
                    var startValue = start.value;
                    var endValue = num1.value;
                   // alert(start.value);
                   // alert(num.value);
                    end.value = num1.value;
                   // console.log(modeDisplay);
                    //console.log(start.value,startValue);
                   // console.log(num1.value,endValue);
                    if((startValue-endValue)>0){
                        var temp = startValue;
                        startValue = endValue;
                        endValue = temp;
                    //    
                    }
                    console.log(startValue,endValue);
                    for(var a = startValue; a <(parseInt(endValue)) ;a++){
                        console.log(a);
                        switch (modeDisplay) {
                    case 0:
                        if(a ==0){
                          //  console.log("a"+a)
                                document.getElementsByClassName("clock-green-start"+n)[0].style.backgroundColor =
                                    "#BF3824";
                                jour_array[0] = "00";
                                jour.value = jour_array;
                            }else{
                           // console.log(a-1)
                            if(time_conti1[a-1]!==undefined){
                                time_conti1[a-1].style.backgroundColor = "#BF3824";
                                jour_array[a] = "00";
                                jour.value = jour_array;}
                        }
                        break;
                    case 1:
                       if( a == 0){
                                document.getElementsByClassName("clock-green-start"+n)[0].style.backgroundColor =
                                    "#163E34";
                                jour_array[0] = "10";
                                jour.value = jour_array;
                            }else{
                                if(time_conti1[a-1]!==undefined){
                                time_conti1[a-1].style.backgroundColor = "#163E34";
                                jour_array[a] = "10";
                                jour.value = jour_array;
                                }
                        }
                        break;
                    case 2:
                        if(a ==0){
                                document.getElementsByClassName("clock-green-start"+n)[0].style.backgroundColor =
                                    "#416EAF";
                                jour_array[0] = "01";
                                jour.value = jour_array;
                         }else{
                            if(time_conti1[a-1]!==undefined){
                                time_conti1[a-1].style.backgroundColor = "#416EAF";
                                jour_array[a] = "01";
                                jour.value = jour_array;
                            }
                        }
                        break;
                }
                    }
                num1.style.opacity = 0;
                }
                </script>
    <script>
        function submitForm(){
                    //获取form表单对象
                         var form = document.getElementById("modeForm");
                         form.submit();//form表单提交
                        }
                        </script>
    <div id="header">
        <h1 align="center">

            <img src="/images/HEATZY_LOGO.png" alt="heatzy-logo" />
            <hr />
        </h1>
    </div>

    <div>
        <label style="font-family:Arial, Helvetica, sans-serif;font-size:30px;margin-left:1cm">
            <%= nickname %>
        </label>
        <input type="image" alt="ON" src="/images/schedule_on.png" name="schedule" id="schedule" value='<%= token %>|<%= did %>'
            onclick="scheduleOff(this)" />
        <input type="button" value="conf." onclick="changeMode(0)" style="font-family:Arial, Helvetica, sans-serif;position: absolute;left:70%; width:4%; border-radius: 10px; color: aliceblue; background-color:#BF3824 " />
        <input type="button" value="eco" onclick="changeMode(1)" style="font-family:Arial, Helvetica, sans-serif;position: absolute;left:79%; width:4%; border-radius: 10px;color: aliceblue;background-color:#163E34" />
        <input type="button" value="hg" onclick="changeMode(2)" style="font-family:Arial, Helvetica, sans-serif;position: absolute;left:88%; width:4%; border-radius: 10px; color: aliceblue; background-color:#416EAF" />
    </div>

    <div class="axis1">
        0
    </div>
    <% for (i=1;i<10;i++){ %>
    <div class="axis1-continue">
        <%= i %>
    </div>
    <% } %>
    <% for (i=10;i<16;i++){ %>
    <div class="axis-continue2">
        <%= i %>
    </div>
    <% } %>
    <% for (i=16;i<25;i++){ %>
        <div class="axis-continue2-1">
            <%= i %>
        </div>
        <% } %>
    <div class="left">
        l
    </div>

    <form action="/deviceSchedule_origin" method="post" id="modeForm">
        <!--     <div class="timebar1">
                        <input type="range" id="trackbar1" name="trackbar1" min="0" max="48" step="1" value="0" oninput="changecolor1()" onchange="change()" onmousedown="mouseon()" onmouseup="mouseoff()"/>
                        <input style="display:none" id="show" type="number" name="show"/>
                        <input style="display:none" id="start" type="number" name="start" />
                        <input style="display:none" id="end" type="number" name="end"/>
                        <input style="display:none" type="text" id="lundi" name="lundi" value=<%= lundi%> />
                    </div>  
                    <div class="timebar2">
                        <input type="range" id="trackbar2" name="trackbar2" min="0" max="48" step="1" value="0" oninput="changecolor2()" oninput="change()" onmousedown="mouseon2()" onmouseup="mouseoff()"/>
                        <input style="display:none" id="show2" type="number" name="show2"/>
                        <input style="display:none" id="start2" type="number" name="start2" />
                        <input style="display:none" id="end2" type="number" name="end2"/>
                        <input style="display:none" type="text" id="mardi" name="mardi" value=<%= mardi%> />
                    </div>
                    <div class="timebar3">
                        <input type="range" id="trackbar3" name="trackbar3" min="0" max="48" step="1" value="0" oninput="changecolor3()" oninput="change()" onmousedown="mouseon3()" onmouseup="mouseoff()"/>
                        <input style="display:none" id="show3" type="number" name="show3"/>
                        <input style="display:none" id="start3" type="number" name="start3" />
                        <input style="display:none" id="end3" type="number" name="end3"/>
                        <input style="display:none" type="text" id="mercredi" name="mercredi" value=<%= mercredi%> />
                    </div>
                    <div class="timebar4">
                        <input type="range" id="trackbar4" name="trackbar4" min="0" max="48" step="1" value="0" oninput="changecolor4()" oninput="change()" onmousedown="mouseon4()" onmouseup="mouseoff()"/>
                        <input style="display:none" id="show4" type="number" name="show4"/>
                        <input style="display:none" id="start4" type="number" name="start4" />
                        <input style="display:none" id="end4" type="number" name="end4"/>
                        <input style="display:none" type="text" id="jeudi" name="jeudi" value=<%= jeudi%> />
                    </div>
                    <div class="timebar5">
                        <input type="range" id="trackbar5" name="trackbar5" min="0" max="48" step="1" value="0" oninput="changecolor5()" oninput="change()" onmousedown="mouseon5()" onmouseup="mouseoff()"/>
                        <input style="display:none" id="show5" type="number" name="show5"/>
                        <input style="display:none" id="start5" type="number" name="start5" />
                        <input style="display:none" id="end5" type="number" name="end5"/>
                        <input style="display:none" type="text" id="vendredi" name="vendredi" value=<%= vendredi%> />
                    </div>
                    <div class="timebar6">
                        <input type="range" id="trackbar6" name="trackbar6" min="0" max="48" step="1" value="0" oninput="changecolor6()" oninput="change()"  onmousedown="mouseon6()" onmouseup="mouseoff()"/>
                        <input style="display:none" id="show6" type="number" name="show6"/>
                        <input style="display:none" id="start6" type="number" name="start6" />
                        <input style="display:none" id="end6" type="number" name="end6"/>
                        <input style="display:none" type="text" id="samedi" name="samedi" value=<%= samedi%> />
                    </div>
                    <div class="timebar7">
                        <input type="range" id="trackbar7" name="trackbar7" min="0" max="48" step="1" value="0" oninput="changecolor7()" oninput="change()" onmousedown="mouseon7()" onmouseup="mouseoff()"/>
                        <input style="display:none" id="show7" type="number" name="show7" />
                        <input style="display:none" id="start7" type="number" name="start7" />
                        <input style="display:none" id="end7" type="number" name="end7"/>
                        <input style="display:none" type="text" id="dimanche" name="dimanche" value=<%= dimanche%> />
                    </div> -->


        <!-- <div class="methodBar">
                                <select onchange="submitForm()" name="mode">
                                        <option value= <%= token %>|<%= nickname %>|<%= did %>|0>Mode</option> 
                                        <option value= <%= token %>|<%= nickname %>|<%= did %>|0>Confort</option>
                                        <option value= <%= token %>|<%= nickname %>|<%= did %>|1>Eco</option>
                                        <option value= <%= token %>|<%= nickname %>|<%= did %>|2>Hg</option>
                                        </select>
                    </div>
                     -->
        <div class="clock-green-start1">


        </div>
        <% for (i=1;i<48;i++){ %>
        <div class="clock-green-continue1">
            <% i %>
        </div>
        <% } %>

        <div class="timebar1">

            <input type="range" id="trackbar1" name="trackbar1" min="0" max="48" step="1" value="0" onmousedown="mouseon(this)"
                onmouseup="mouseoff(1,'lundi')" />
            <input style="display: none" id="show1" type="number" name="show1" />
            <input style="display:none" id="start1" type="number" name="start1" />
            <input style="display:none" id="end1" type="number" name="end1" />
            <input style="display:none" type="text" id="lundi" name="lundi" value=<%=lundi%> />
        </div>
        <div class="axis2">
            0
        </div>
        <% for (i=1;i<10;i++){ %>
        <div class="axis1-continue">
            <%= i %>
        </div>
        <% } %>
        <% for (i=10;i<16;i++){ %>
            <div class="axis-continue2">
                <%= i %>
            </div>
            <% } %>
            <% for (i=16;i<25;i++){ %>
                <div class="axis-continue2-1">
                    <%= i %>
                </div>
                <% } %>
        <div class="left2">
            m
        </div>

        <div class="clock-green-start2">

        </div>
        <% for (i=1;i<48;i++){ %>
        <div class="clock-green-continue2">
            <% i %>
        </div>
        <% } %>

        <div class="timebar2">
            <!-- <div id="modeSelect2">
                                                        <ul>
                                                        <li onclick="changeMode('0')">cft</li>
                                                        <li onclick="changeMode('1')">eco</li>
                                                        <li onclick="changeMode('2')">fro</li>
                                                        </ul> 
                                                </div> -->
            <input type="range" id="trackbar2" name="trackbar2" min="0" max="48" step="1" value="0" onmousedown="mouseon2()"
                onmouseup="mouseoff(2,'mardi')" />
            <input style="display:none" id="show2" type="number" name="show2" />
            <input style="display:none" id="start2" type="number" name="start2" />
            <input style="display:none" id="end2" type="number" name="end2" />
            <input style="display:none" type="text" id="mardi" name="mardi" value=<%=mardi%> />
        </div>
        <div class="axis2">
            0
        </div>
        <% for (i=1;i<10;i++){ %>
        <div class="axis1-continue">
            <%= i %>
        </div>
        <% } %>
        <% for (i=10;i<16;i++){ %>
            <div class="axis-continue2">
                <%= i %>
            </div>
            <% } %>
            <% for (i=16;i<25;i++){ %>
                <div class="axis-continue2-1">
                    <%= i %>
                </div>
                <% } %>
        <div class="left3">
            m
        </div>
        <div class="clock-green-start3">

        </div>
        <% for (i=1;i<48;i++){ %>
        <div class="clock-green-continue3">
            <% i %>
        </div>
        <% } %>
        <div class="timebar3">
            <input type="range" id="trackbar3" name="trackbar3" min="0" max="48" step="1" value="0" onmousedown="mouseon3()"
                onmouseup="mouseoff(3,'mercredi')" />
            <input style="display:none" id="show3" type="number" name="show3" />
            <input style="display:none" id="start3" type="number" name="start3" />
            <input style="display:none" id="end3" type="number" name="end3" />
            <input style="display:none" type="text" id="mercredi" name="mercredi" value=<%=mercredi%> />
        </div>
        <div class="axis2">
            0
        </div>
        <% for (i=1;i<10;i++){ %>
        <div class="axis1-continue">
            <%= i %>
        </div>
        <% } %>
        <% for (i=10;i<16;i++){ %>
            <div class="axis-continue2">
                <%= i %>
            </div>
            <% } %>
            <% for (i=16;i<25;i++){ %>
                <div class="axis-continue2-1">
                    <%= i %>
                </div>
                <% } %>
        <div class="left3">
            j
        </div>
        <div class="clock-green-start4">

        </div>
        <% for (i=1;i<48;i++){ %>
        <div class="clock-green-continue4">
            <% i %>
        </div>
        <% } %>
        <div class="timebar4">
            <input type="range" id="trackbar4" name="trackbar4" min="0" max="48" step="1" value="0" onmousedown="mouseon4()"
                onmouseup="mouseoff(4,'jeudi')" />
            <input style="display:none" id="show4" type="number" name="show4" />
            <input style="display:none" id="start4" type="number" name="start4" />
            <input style="display:none" id="end4" type="number" name="end4" />
            <input style="display:none" type="text" id="jeudi" name="jeudi" value=<%=jeudi%> />
        </div>
        <div class="axis2">
            0
        </div>
        <% for (i=1;i<10;i++){ %>
        <div class="axis1-continue">
            <%= i %>
        </div>
        <% } %>
        <% for (i=10;i<16;i++){ %>
            <div class="axis-continue2">
                <%= i %>
            </div>
            <% } %>
            <% for (i=16;i<25;i++){ %>
                <div class="axis-continue2-1">
                    <%= i %>
                </div>
                <% } %>
        <div class="left3">
            v
        </div>
        <div class="clock-green-start5">

        </div>
        <% for (i=1;i<48;i++){ %>
        <div class="clock-green-continue5">
            <% i %>
        </div>
        <% } %>
        <div class="timebar5">
            <input type="range" id="trackbar5" name="trackbar5" min="0" max="48" step="1" value="0" onmousedown="mouseon5()"
                onmouseup="mouseoff(5,'vendredi')" />
            <input style="display:none" id="show5" type="number" name="show5" />
            <input style="display:none" id="start5" type="number" name="start5" />
            <input style="display:none" id="end5" type="number" name="end5" />
            <input style="display:none" type="text" id="vendredi" name="vendredi" value=<%=vendredi%> />
        </div>
        <div class="axis2">
            0
        </div>
        <% for (i=1;i<10;i++){ %>
        <div class="axis1-continue">
            <%= i %>
        </div>
        <% } %>
        <% for (i=10;i<16;i++){ %>
            <div class="axis-continue2">
                <%= i %>
            </div>
            <% } %>
            <% for (i=16;i<25;i++){ %>
                <div class="axis-continue2-1">
                    <%= i %>
                </div>
                <% } %>
        <div class="left3">
            s
        </div>
        <div class="clock-green-start6">

        </div>
        <% for (i=1;i<48;i++){ %>
        <div class="clock-green-continue6">
            <% i %>
        </div>
        <% } %>
        <div class="timebar6">
            <input type="range" id="trackbar6" name="trackbar6" min="0" max="48" step="1" value="0" onmousedown="mouseon6()"
                onmouseup="mouseoff(6,'samedi')" />
            <input style="display:none" id="show6" type="number" name="show6" />
            <input style="display:none" id="start6" type="number" name="start6" />
            <input style="display:none" id="end6" type="number" name="end6" />
            <input style="display:none" type="text" id="samedi" name="samedi" value=<%=samedi%> />
        </div>
        <div class="axis2">
            0
        </div>
        <% for (i=1;i<10;i++){ %>
        <div class="axis1-continue">
            <%= i %>
        </div>
        <% } %>
        <% for (i=10;i<16;i++){ %>
            <div class="axis-continue2">
                <%= i %>
            </div>
            <% } %>
            <% for (i=16;i<25;i++){ %>
                <div class="axis-continue2-1">
                    <%= i %>
                </div>
                <% } %>
        <div class="left3">
            d
        </div>
        <div class="clock-green-start7">

        </div>
        <% for (i=1;i<48;i++){ %>
        <div class="clock-green-continue7">
            <% i %>
        </div>
        <% } %>
        <div class="timebar7">
            <input type="range" id="trackbar7" name="trackbar7" min="0" max="48" step="1" value="0" onmousedown="mouseon7()"
                onmouseup="mouseoff(7,'dimanche')" />
            <input style="display:none" id="show7" type="number" name="show7" />
            <input style="display:none" id="start7" type="number" name="start7" />
            <input style="display:none" id="end7" type="number" name="end7" />
            <input style="display:none" type="text" id="dimanche" name="dimanche" value=<%=dimanche%> />

            <div class="button_confirm">
                <input type="image" src="/images/schedule_set.png" name="confirm" />
                <input type="text" style="display:none" id="confirm" name="confirm" class="buttom-left-top" value='<%= token %>|<%= nickname %>|<%= did %>|<%= mode %>'>
                </input>
            </div>
            <div class="button_return">
                <input type="image" src="/images/schedule_croix.png" name="annuler" />
                <input type="text" style="display:none" id="annuler" name="annuler" class="buttom-left-top" value='<%= token %>|<%= nickname %>|<%= did %>|<%= mode %>'>
                </input>
            </div>
        </div>



    </form>

    <script>
        var time_conti = document.getElementsByClassName("clock-green-continue1");
        var time_conti2 = document.getElementsByClassName("clock-green-continue2");
        var time_conti3 = document.getElementsByClassName("clock-green-continue3");
        var time_conti4 = document.getElementsByClassName("clock-green-continue4");
        var time_conti5 = document.getElementsByClassName("clock-green-continue5");
        var time_conti6 = document.getElementsByClassName("clock-green-continue6");
        var time_conti7 = document.getElementsByClassName("clock-green-continue7");
        var lundi1 = JSON.parse('<%- JSON.stringify(lundi) %>');
        var mardi1 = JSON.parse('<%- JSON.stringify(mardi) %>');
        var mercedi1 = JSON.parse('<%- JSON.stringify(mercredi) %>');
        var jeudi1 = JSON.parse('<%- JSON.stringify(jeudi) %>');
        var vendredi1 = JSON.parse('<%- JSON.stringify(vendredi) %>');
        var samedi1 = JSON.parse('<%- JSON.stringify(samedi) %>');
        var dimanche1 = JSON.parse('<%- JSON.stringify(dimanche) %>');




        for (i = 0; i < lundi1.length; i++) {
            if (lundi1[i + 1] == "10") {
                time_conti[i].style.backgroundColor = "#163E34";
            }
            if (lundi1[i + 1] == "00") {
                time_conti[i].style.backgroundColor = "#BF3824";
            }
            if (lundi1[i + 1] == "01") {
                time_conti[i].style.backgroundColor = "#416EAF";
            }
            if (mardi1[i + 1] == "10") {
                time_conti2[i].style.backgroundColor = "#163E34";
            }
            if (mardi1[i + 1] == "00") {
                time_conti2[i].style.backgroundColor = "#BF3824";
            }
            if (mardi1[i + 1] == "01") {
                time_conti2[i].style.backgroundColor = "#416EAF";
            }
            if (mercedi1[i + 1] == "10") {
                time_conti3[i].style.backgroundColor = "#163E34";
            }
            if (mercedi1[i + 1] == "00") {
                time_conti3[i].style.backgroundColor = "#BF3824";
            }
            if (mercedi1[i + 1] == "01") {
                time_conti3[i].style.backgroundColor = "#416EAF";
            }
            if (jeudi1[i + 1] == "10") {
                time_conti4[i].style.backgroundColor = "#163E34";
            }
            if (jeudi1[i + 1] == "00") {
                time_conti4[i].style.backgroundColor = "#BF3824";
            }
            if (jeudi1[i + 1] == "01") {
                time_conti4[i].style.backgroundColor = "#416EAF";
            }
            if (vendredi1[i + 1] == "10") {
                time_conti5[i].style.backgroundColor = "#163E34";
            }
            if (vendredi1[i + 1] == "00") {
                time_conti5[i].style.backgroundColor = "#BF3824";
            }
            if (vendredi1[i + 1] == "01") {
                time_conti5[i].style.backgroundColor = "#416EAF";
            }
            if (samedi1[i + 1] == "10") {
                time_conti6[i].style.backgroundColor = "#163E34";
            }
            if (samedi1[i + 1] == "00") {
                time_conti6[i].style.backgroundColor = "#BF3824";
            }
            if (samedi1[i + 1] == "01") {
                time_conti6[i].style.backgroundColor = "#416EAF";
            }
            if (dimanche1[i + 1] == "10") {
                time_conti7[i].style.backgroundColor = "#163E34";
            }
            if (dimanche1[i + 1] == "00") {
                time_conti7[i].style.backgroundColor = "#BF3824";
            }
            if (dimanche1[i + 1] == "01") {
                time_conti7[i].style.backgroundColor = "#416EAF";
            }

        }
    </script>


    <script>
        /* $("#trackbar1").bind("input onpropertychange", function () {
            setTimeout(() => {
                var lundi = document.getElementById("lundi");
                var lundi_array = lundi.value.split(",");
                var num1 = document.getElementById("trackbar1");
                console.log(num1.value);
                var time_conti1 = document.getElementsByClassName("clock-green-continue");
                // time_conti7[location7.value].style.backgroundColor = "#416EAF";

                //  mode = JSON.parse('<%= mode%>');
                switch (modeDisplay) {
                    case "0":
                        switch (num1.value) {
                            case "0":
                                document.getElementsByClassName("clock-green-start")[0].style.backgroundColor =
                                    "#BF3824";
                                lundi_array[0] = "00";
                                lundi.value = lundi_array;
                                break;
                            default:
                                time_conti1[num1.value - 1].style.backgroundColor = "#BF3824";
                                lundi_array[num1.value] = "00";
                                lundi.value = lundi_array;
                                break;
                        }
                        break;
                    case "1":
                        switch (num1.value) {
                            case "0":
                                document.getElementsByClassName("clock-green-start")[0].style.backgroundColor =
                                    "#163E34";
                                lundi_array[0] = "10";
                                lundi.value = lundi_array;
                                break;
                            default:
                                time_conti1[num1.value - 1].style.backgroundColor = "#163E34";
                                lundi_array[num1.value] = "10";
                                lundi.value = lundi_array;
                                break;
                        }
                        break;
                    case "2":
                        switch (num1.value) {
                            case "0":
                                document.getElementsByClassName("clock-green-start")[0].style.backgroundColor =
                                    "#416EAF";
                                lundi_array[0] = "01";
                                lundi.value = lundi_array;
                                break;
                            default:
                                time_conti1[num1.value - 1].style.backgroundColor = "#416EAF";
                                lundi_array[num1.value] = "01";
                                lundi.value = lundi_array;
                                break;
                        }
                        break;
                }
            }, 0);
        }) */
        var time = document.getElementsByClassName("clock-green-start1");
        var time2 = document.getElementsByClassName("clock-green-start2");
        var time3 = document.getElementsByClassName("clock-green-start3");
        var time4 = document.getElementsByClassName("clock-green-start4");
        var time5 = document.getElementsByClassName("clock-green-start5");
        var time6 = document.getElementsByClassName("clock-green-start6");
        var time7 = document.getElementsByClassName("clock-green-start7");
        if ('<%= lundi[0] %>' == "10") {
            time[0].style.backgroundColor = "#163E34";
        }
        if ('<%= lundi[0] %>' == "00") {
            time[0].style.backgroundColor = "#BF3824";
        }
        if ('<%= lundi[0] %>' == "01") {
            time[0].style.backgroundColor = "#416EAF";
        }
        if ('<%= mardi[0] %>' == "10") {
            time2[0].style.backgroundColor = "#163E34";
        }
        if ('<%= mardi[0] %>' == "00") {
            time2[0].style.backgroundColor = "#BF3824";
        }
        if ('<%= mardi[0] %>' == "01") {
            time2[0].style.backgroundColor = "#416EAF";
        }
        if ('<%= mercredi[0] %>' == "10") {
            time3[0].style.backgroundColor = "#163E34";
        }
        if ('<%= mercredi[0] %>' == "00") {
            time3[0].style.backgroundColor = "#BF3824";
        }
        if ('<%= mercredi[0] %>' == "01") {
            time3[0].style.backgroundColor = "#416EAF";
        }
        if ('<%= jeudi[0] %>' == "10") {
            time4[0].style.backgroundColor = "#163E34";
        }
        if ('<%= jeudi[0] %>' == "00") {
            time4[0].style.backgroundColor = "#BF3824";
        }
        if ('<%= jeudi[0] %>' == "01") {
            time4[0].style.backgroundColor = "#416EAF";
        }
        if ('<%= vendredi[0] %>' == "10") {
            time5[0].style.backgroundColor = "#163E34";
        }
        if ('<%= vendredi[0] %>' == "00") {
            time5[0].style.backgroundColor = "#BF3824";
        }
        if ('<%= vendredi[0] %>' == "01") {
            time5[0].style.backgroundColor = "#416EAF";
        }
        if ('<%= samedi[0] %>' == "10") {
            time6[0].style.backgroundColor = "#163E34";
        }
        if ('<%= samedi[0] %>' == "00") {
            time6[0].style.backgroundColor = "#BF3824";
        }
        if ('<%= samedi[0] %>' == "01") {
            time6[0].style.backgroundColor = "#416EAF";
        }
        if ('<%= dimanche[0] %>' == "10") {
            time7[0].style.backgroundColor = "#163E34";
        }
        if ('<%= dimanche[0] %>' == "00") {
            time7[0].style.backgroundColor = "#BF3824";
        }
        if ('<%= dimanche[0] %>' == "01") {
            time7[0].style.backgroundColor = "#416EAF";
        }
        var startColor = document.getElementById("start7");
        var endColor = document.getElementById("end7");
        var time_conti7 = document.getElementsByClassName("clock-green-continue7");
        for (i = startColor.value; i < endColor.value; i++) {

            time_conti7[i].style.backgroundColor = "#416EAF"

        }
        if (schedule !== undefined) {
            var obj = document.getElementById('schedule');
            if (schedule == 0) {
                obj.src = "/images/schedule_off.png";
                obj.onclick = function () {
                    scheduleOn(obj);
                };
            } else {
                obj.src = "/images/schedule_on.png";
                obj.onclick = function () {
                    scheduleOff(obj);
                };
            }
        }
        //time[0].style.backgroundColor="red";
    </script>


</body>

</html>